{"version":3,"sources":["vectorious-4.1.4.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","Matrix","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"data","options","type","Float64Array","shape","buffer","ArrayBuffer","fromTypedArray","Array","fromArray","Vector","Object","create","prototype","constructor","array","j","c","add","b","matrix","d1","d2","subtract","scale","scalar","zeros","k","ones","random","Math","multiply","r1","c1","r2","c2","sum","transpose","tmp","inverse","m","identity","augmented","augment","gauss","left","right","set","get","equals","pivot","leadValue","copy","lead","swap","pivotize","row","result","sign","abs","lu","plu","ipiv","lower","upper","max","diag","p","Int32Array","size","magic","x","y","min","determinant","pop","product","trace","diagonal","value","slice","copyWithin","map","callback","each","toString","push","subarray","join","toArray","toVector","./vector",2,"combine","vector","l1","l2","normalize","magnitude","project","dot","count","range","start","step","end","args","arguments","backwards","ceil","sqrt","angle","acos","index","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY"],"mappings":"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","file":"vectorious-4.1.4.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Matrix = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function () {\n  'use strict';\n\n  var Vector = require('./vector');\n\n  /**\n   * @method constructor\n   * @desc Creates a `Matrix` from the supplied arguments.\n   **/\n  function Matrix (data, options) {\n    this.type = Float64Array;\n    this.shape = [];\n\n    if (data && data.buffer && data.buffer instanceof ArrayBuffer) {\n      return Matrix.fromTypedArray(data, options.shape);\n    } else if (data instanceof Array) {\n      return Matrix.fromArray(data);\n    } else if (data instanceof Vector) {\n      this.shape = options && options.shape ? options.shape : [data.length, 1];\n      this.data = new data.type(data.data);\n      this.type = data.type;\n    } else if (data instanceof Matrix) {\n      this.shape = [data.shape[0], data.shape[1]];\n      this.data = new data.type(data.data);\n      this.type = data.type;\n    }\n  }\n\n  Matrix.fromTypedArray = function (data, shape) {\n    if (data.length !== shape[0] * shape[1])\n      throw new Error(\"Shape does not match typed array dimensions.\");\n\n    var self = Object.create(Matrix.prototype);\n    self.shape = shape;\n    self.data = data;\n    self.type = data.constructor;\n\n    return self;\n  };\n\n  Matrix.fromArray = function (array) {\n    var r = array.length, // number of rows\n        c = array[0].length,  // number of columns\n        data = new Float64Array(r * c);\n\n    var i, j;\n    for (i = 0; i < r; ++i)\n      for (j = 0; j < c; ++j)\n        data[i * c + j] = array[i][j];\n\n    return Matrix.fromTypedArray(data, [r, c]);\n  };\n\n  /**\n   * Static method. Adds two matrices `a` and `b` together.\n   * @param {Matrix} a\n   * @param {Matrix} b\n   * @returns {Matrix} a new matrix containing the sum of `a` and `b`\n   **/\n  Matrix.add = function (a, b) {\n    return new Matrix(a).add(b);\n  };\n\n  /**\n   * Adds `matrix` to current matrix.\n   * @param {Matrix} a\n   * @param {Matrix} b\n   * @returns {Matrix} `this`\n   **/\n  Matrix.prototype.add = function (matrix) {\n    var r = this.shape[0],          // rows in this matrix\n        c = this.shape[1],          // columns in this matrix\n        d1 = this.data,\n        d2 = matrix.data;\n\n    if (r !== matrix.shape[0] || c !== matrix.shape[1])\n      throw new Error('sizes do not match!');\n\n    var i;\n    for (i = 0; i < r * c; i++)\n      d1[i] += d2[i];\n\n    return this;\n  };\n\n  /**\n   * Static method. Subtracts the matrix `b` from matrix `a`.\n   * @param {Matrix} a\n   * @param {Matrix} b\n   * @returns {Matrix} a new matrix containing the difference between `a` and `b`\n   **/\n  Matrix.subtract = function (a, b) {\n    return new Matrix(a).subtract(b);\n  };\n\n  /**\n   * Subtracts `matrix` from current matrix.\n   * @param {Matrix} a\n   * @param {Matrix} b\n   * @returns {Matrix} `this`\n   **/\n  Matrix.prototype.subtract = function (matrix) {\n      var r = this.shape[0],          // rows in this matrix\n          c = this.shape[1],          // columns in this matrix\n          d1 = this.data,\n          d2 = matrix.data;\n\n      if (r !== matrix.shape[0] || c !== matrix.shape[1])\n        throw new Error('sizes do not match');\n\n      var i;\n      for (i = 0; i < r * c; i++)\n        d1[i] -= d2[i];\n\n      return this;\n  };\n\n  /**\n   * Static method. Multiplies all elements of a matrix `a` with a specified `scalar`.\n   * @param {Matrix} a\n   * @param {Number} scalar\n   * @returns {Matrix} a new scaled matrix\n   **/\n  Matrix.scale = function (a, scalar) {\n    return new Matrix(a).scale(scalar);\n  };\n\n  /**\n   * Multiplies all elements of current matrix with a specified `scalar`.\n   * @param {Number} scalar\n   * @returns {Matrix} `this`\n   **/\n  Matrix.prototype.scale = function (scalar) {\n    var r = this.shape[0],          // rows in this matrix\n        c = this.shape[1],          // columns in this matrix\n        d1 = this.data,\n        i;\n\n    for (i = 0; i < r * c; i++)\n      d1[i] *= scalar;\n\n    return this;\n  };\n\n  /**\n   * Static method. Creates an `i x j` matrix containing zeros (`0`), takes an\n   * optional `type` argument which should be an instance of `TypedArray`.\n   * @param {Number} i\n   * @param {Number} j\n   * @param {TypedArray} type\n   * @returns {Matrix} a matrix of the specified dimensions and `type`\n   **/\n  Matrix.zeros = function (i, j, type) {\n    if (i <= 0 || j <= 0)\n      throw new Error('invalid size');\n\n    type = type || Float64Array;\n\n    var data = new type(i * j),\n        k;\n    for (k = 0; k < i * j; k++)\n      data[k] = +0.0;\n\n    return Matrix.fromTypedArray(data, [i, j]);\n  };\n\n  /**\n   * Static method. Creates an `i x j` matrix containing ones (`1`), takes an\n   * optional `type` argument which should be an instance of `TypedArray`.\n   * @param {Number} i\n   * @param {Number} j\n   * @param {TypedArray} type\n   * @returns {Matrix} a matrix of the specified dimensions and `type`\n   **/\n  Matrix.ones = function (i, j, type) {\n    if (i <= 0 || j <= 0)\n      throw new Error('invalid size');\n\n    type = type || Float64Array;\n\n    var data = new type(i * j),\n        k = 0;\n    for (k = 0; k < i * j; k++)\n      data[k] = +1.0;\n\n    return Matrix.fromTypedArray(data, [i, j]);\n  };\n\n  /**\n   * Static method. Creates an `i x j` matrix containing random values between\n   * `0` and `1`, takes an optional `type` argument which should be an instance\n   * of `TypedArray`.\n   * @param {Number} i\n   * @param {Number} j\n   * @param {TypedArray} type\n   * @returns {Matrix} a matrix of the specified dimensions and `type`\n   **/\n  Matrix.random = function (i, j, type) {\n    type = type || Float64Array;\n    var data = new type(i * j),\n        k;\n\n    for (k = 0; k < i * j; k++)\n      data[k] = Math.random();\n\n    return Matrix.fromTypedArray(data, [i, j]);\n  };\n\n  /**\n   * Static method. Multiplies two matrices `a` and `b` of matching dimensions.\n   * @param {Matrix} a\n   * @param {Matrix} b\n   * @returns {Matrix} a new resultant matrix containing the matrix product of `a` and `b`\n   **/\n  Matrix.multiply = function (a, b) {\n    return a.multiply(b);\n  };\n\n  /**\n   * Multiplies two matrices `a` and `b` of matching dimensions.\n   * @param {Matrix} a\n   * @param {Matrix} b\n   * @returns {Matrix} a new resultant matrix containing the matrix product of `a` and `b`\n   **/\n  Matrix.prototype.multiply = function (matrix) {\n    var r1 = this.shape[0],   // rows in this matrix\n        c1 = this.shape[1],   // columns in this matrix\n        r2 = matrix.shape[0], // rows in multiplicand\n        c2 = matrix.shape[1], // columns in multiplicand\n        d1 = this.data,\n        d2 = matrix.data;\n\n    if (c1 !== r2)\n      throw new Error('sizes do not match');\n\n    var data = new this.type(r1 * c2),\n        i, j, k,\n        sum;\n    for (i = 0; i < r1; i++) {\n      for (j = 0; j < c2; j++) {\n        sum = +0;\n        for (k = 0; k < c1; k++)\n          sum += d1[i * c1 + k] * d2[j + k * c2];\n\n        data[i * c2 + j] = sum;\n      }\n    }\n\n    return Matrix.fromTypedArray(data, [r1, c2]);\n  };\n\n  /**\n   * Static method. Transposes a matrix (mirror across the diagonal).\n   * @returns {Matrix} a new resultant transposed matrix\n   **/\n  Matrix.transpose = function (matrix) {\n    return new Matrix(matrix).transpose();\n  };\n\n  /**\n   * Transposes a matrix (mirror across the diagonal).\n   * @returns {Matrix} `this`\n   **/\n  Matrix.prototype.transpose = function () {\n    var r = this.shape[0],\n        c = this.shape[1],\n        i, j;\n\n    // prefer in-place\n    if (r === c) {\n      for (i = 0; i < r - 1; i++) {\n        for (j = i + 1; j < r; j++) {\n          var tmp = this.data[j * r + i];\n          this.data[j * r + i] = this.data[i * r + j];\n          this.data[i * r + j] = tmp;\n        }\n      }\n\n      return this;\n    }\n\n    var data = new this.type(c * r);\n    for (i = 0; i < r; i++)\n      for (j = 0; j < c; j++)\n        data[j * r + i] = this.data[i * c + j];\n\n    return Matrix.fromTypedArray(data, [c, r]);\n  };\n\n  /**\n   * Determines the inverse of any invertible square matrix using\n   * Gaussian elimination.\n   * @returns {Matrix} the inverse of the matrix\n   **/\n  Matrix.prototype.inverse = function () {\n    var l = this.shape[0],\n        m = this.shape[1];\n\n    if (l !== m)\n      throw new Error('invalid dimensions');\n\n    var identity = Matrix.identity(l);\n    var augmented = Matrix.augment(this, identity);\n    var gauss = augmented.gauss();\n\n    var left = Matrix.zeros(l, m),\n        right = Matrix.zeros(l, m),\n        n = gauss.shape[1],\n        i, j;\n    for (i = 0; i < l; i++) {\n      for (j = 0; j < n; j++) {\n        if (j < m)\n          left.set(i, j, gauss.get(i, j));\n        else\n          right.set(i, j - l, gauss.get(i, j));\n      }\n    }\n\n    if (!left.equals(Matrix.identity(l)))\n      throw new Error('matrix is not invertible');\n\n    return right;\n  };\n\n  /**\n   * Performs Gaussian elimination on a matrix.\n   * @returns {Matrix} the matrix in reduced row echelon form\n   **/\n  Matrix.prototype.gauss = function () {\n    var l = this.shape[0],\n        m = this.shape[1];\n\n    var copy = new Matrix(this),\n        lead = 0,\n        pivot,\n        i, j, k,\n        leadValue;\n\n    for (i = 0; i < l; i++) {\n      if (m <= lead)\n        return new Error('matrix is singular');\n\n      j = i;\n      while (copy.data[j * m + lead] === 0) {\n        j++;\n        if (l === j) {\n          j = i;\n          lead++;\n\n          if (m === lead)\n            return new Error('matrix is singular');\n        }\n      }\n\n      copy.swap(i, j);\n\n      pivot = copy.data[i * m + lead];\n      if (pivot !== 0) {\n        // scale down the row by value of pivot\n        for (k = 0; k < m; k++)\n          copy.data[(i * m) + k] = copy.data[(i * m) + k] / pivot;\n      }\n\n\n      for (j = 0; j < l; j++) {\n        leadValue = copy.data[j * m + lead];\n        if (j !== i)\n          for (k = 0; k < m; k++)\n            copy.data[j * m + k] = copy.data[j * m + k] - (copy.data[i * m + k] * leadValue);\n      }\n\n      lead++;\n    }\n\n    for (i = 0; i < l; i++) {\n      pivot = 0;\n      for (j = 0; j < m; j++)\n        if (!pivot)\n          pivot = copy.data[i * m + j];\n\n      if (pivot)\n        // scale down the row by value of pivot\n        for (k = 0; k < m; k++)\n          copy.data[(i * m) + k] = copy.data[(i * m) + k] / pivot;\n    }\n\n    return copy;\n  };\n\n  /**\n   * Pivots a matrix until elements are in upper triangular form\n   * @returns {Array} a tuple of the resultant pivotized matrix and its sign\n   * (used in LU factorization).\n   **/\n  Matrix.prototype.pivotize = function () {\n    var l = this.shape[0],\n        result = Matrix.identity(l),\n        sign = 1,\n        pivot,\n        lead,\n        row;\n\n    var i, j;\n    for (i = 0; i < l; i++) {\n      pivot = 0;\n      row = i;\n\n      for (j = i; j < l; j++) {\n        lead = Math.abs(this.get(j, i));\n        if (pivot < lead) {\n          pivot = lead;\n          row = j;\n        }\n      }\n\n      if (i !== row) {\n        result.swap(i, row);\n        sign *= -1;\n      }\n    }\n\n    return [result, sign];\n  };\n\n  /**\n   * Performs full LU decomposition on a matrix.\n   * @returns {Array} a triple (3-tuple) of the lower triangular resultant matrix `L`, the upper\n   * triangular resultant matrix `U` and the pivot array `ipiv`\n   **/\n  Matrix.prototype.lu = function () {\n    var r = this.shape[0],\n        c = this.shape[1],\n        plu = Matrix.plu(this),\n        ipiv = plu[1],\n        pivot = Matrix.identity(r),\n        lower = new Matrix(plu[0]),\n        upper = new Matrix(plu[0]),\n        i, j;\n\n    for (i = 0; i < r; i++)\n      for (j = i; j < c; j++)\n        lower.data[i * c + j] = i === j ? 1 : 0;\n\n    for (i = 0; i < r; i++)\n      for (j = 0; j < i && j < c; j++)\n        upper.data[i * c + j] = 0;\n\n    return [lower, upper, ipiv];\n  };\n\n  /**\n   * Static method. Performs LU factorization on current matrix.\n   * @returns {Array} an array with a new instance of the current matrix LU-\n   * factorized and the corresponding pivot Int32Array\n   **/\n  Matrix.plu = function(matrix) {\n    return new Matrix(matrix).plu();\n  };\n\n  /**\n   * Performs LU factorization on current matrix.\n   * @returns {Array} an array with the current matrix LU-factorized and the\n   * corresponding pivot Int32Array\n   **/\n  Matrix.prototype.plu = function () {\n    var data = this.data,\n        n = this.shape[0],\n        ipiv = new Int32Array(n),\n        max, abs, diag, p,\n        i, j, k;\n\n    for (k = 0; k < n; ++k) {\n      p = k;\n      max = Math.abs(data[k * n + k]);\n      for (j = k + 1; j < n; ++j) {\n        abs = Math.abs(data[j * n + k]);\n        if (max < abs) {\n          max = abs;\n          p = j;\n        }\n      }\n\n      ipiv[k] = p;\n\n      if (p !== k)\n        this.swap(k, p);\n\n      diag = data[k * n + k];\n      for (i = k + 1; i < n; ++i)\n        data[i * n + k] /= diag;\n\n      for (i = k + 1; i < n; ++i) {\n        for (j = k + 1; j < n - 1; ++j) {\n          data[i * n + j] -= data[i * n + k] * data[k * n + j];\n          ++j;\n          data[i * n + j] -= data[i * n + k] * data[k * n + j];\n        }\n\n        if(j === n - 1)\n          data[i * n + j] -= data[i * n + k] * data[k * n + j];\n      }\n    }\n\n    return [this, ipiv];\n  };\n\n  /**\n   * Static method. Augments two matrices `a` and `b` of matching dimensions\n   * (appends `b` to `a`).\n   * @param {Matrix} a\n   * @param {Matrix} b\n   * @returns {Matrix} the resultant matrix of `b` augmented to `a`\n   **/\n  Matrix.augment = function (a, b) {\n    return new Matrix(a).augment(b);\n  };\n\n  /**\n   * Augments `matrix` with current matrix.\n   * @param {Matrix} matrix\n   * @returns {Matrix} `this`\n   **/\n  Matrix.prototype.augment = function (matrix) {\n    if (matrix.shape.length === 0)\n     return this;\n\n    var r1 = this.shape[0],\n        c1 = this.shape[1],\n        r2 = matrix.shape[0],\n        c2 = matrix.shape[1],\n        d1 = this.data,\n        d2 = matrix.data,\n        i, j;\n\n    if (r1 !== r2)\n      throw new Error(\"Rows do not match.\");\n\n    var length = c1 + c2,\n        data = new this.type(length * r1);\n\n    for (i = 0; i < r1; i++)\n      for (j = 0; j < c1; j++)\n        data[i * length + j] = d1[i * c1 + j];\n\n    for (i = 0; i < r2; i++)\n      for (j = 0; j < c2; j++)\n        data[i * length + j + c1] = d2[i * c2 + j];\n\n    this.shape = [r1, length];\n    this.data = data;\n\n    return this;\n  };\n\n  /**\n   * Static method. Creates an identity matrix of `size`, takes an optional `type` argument\n   * which should be an instance of `TypedArray`.\n   * @param {Number} size\n   * @param {TypedArray} type\n   * @returns {Matrix} an identity matrix of the specified `size` and `type`\n   **/\n  Matrix.identity = function (size, type) {\n    if (size < 0)\n      throw new Error('invalid size');\n\n    type = type || Float64Array;\n    var matrix = Matrix.zeros(size, size, type),\n        i, j;\n    for (i = 0; i < size; i++)\n      matrix.data[i * size + i] = 1.0;\n\n    return matrix;\n  };\n\n  /**\n   * Static method. Creates a magic square matrix of `size`, takes an optional `type` argument\n   * which should be an instance of `TypedArray`.\n   * @param {Number} size\n   * @param {Number} type\n   * @returns {Matrix} a magic square matrix of the specified `size` and `type`\n   **/\n  Matrix.magic = function (size, type) {\n    if (size < 0)\n      throw new Error('invalid size');\n\n    function f(n, x, y) {\n      return (x + y * 2 + 1) % n;\n    }\n\n    type = type || Float64Array;\n    var data = new type(size * size),\n        i, j;\n    for (i = 0; i < size; i++)\n      for (j = 0; j < size; j++)\n        data[(size - i - 1) * size + (size - j - 1)] =\n          f(size, size - j - 1, i) * size + f(size, j, i) + 1;\n\n    return Matrix.fromTypedArray(data, [size, size]);\n  };\n\n  /**\n   * Gets the diagonal of a matrix.\n   * @returns {Vector} the diagonal of the matrix as a vector\n   **/\n  Matrix.prototype.diag = function () {\n    var r = this.shape[0],\n        c = this.shape[1],\n        data = new this.type(Math.min(r, c)),\n        i;\n\n    for (i = 0; i < r && i < c; i++)\n      data[i] = this.data[i * c + i];\n\n    return new Vector(data);\n  };\n\n  /**\n   * Gets the determinant of any square matrix using LU factorization.\n   * @returns {Number} the determinant of the matrix\n   **/\n  Matrix.prototype.determinant = function () {\n    if (this.shape[0] !== this.shape[1])\n      throw new Error('matrix is not square');\n\n    var plu = Matrix.plu(this),\n        ipiv = plu.pop(),\n        lu = plu.pop(),\n        r = this.shape[0],\n        c = this.shape[1],\n        product = 1,\n        sign = 1,\n        i;\n\n    // get sign from ipiv\n    for (i = 0; i < r; i++)\n      if (i !== ipiv[i])\n        sign *= -1;\n\n    for (i = 0; i < r; i++)\n      product *= lu.data[i * c + i];\n\n    return sign * product;\n  };\n\n  /**\n   * Gets the trace of the matrix (the sum of all diagonal elements).\n   * @returns {Number} the trace of the matrix\n   **/\n  Matrix.prototype.trace = function () {\n    var diagonal = this.diag(),\n        result = 0,\n        i, l;\n\n    for (i = 0, l = diagonal.length; i < l; i++)\n      result += diagonal.get(i);\n\n    return result;\n  };\n\n  /**\n   * Static method. Checks the equality of two matrices `a` and `b`.\n   * @param {Matrix} a\n   * @param {Matrix} b\n   * @returns {Boolean} `true` if equal, `false` otherwise\n   **/\n  Matrix.equals = function (a, b) {\n    return a.equals(b);\n  };\n\n  /**\n   * Checks the equality of `matrix` and current matrix.\n   * @param {Matrix} matrix\n   * @returns {Boolean} `true` if equal, `false` otherwise\n   **/\n  Matrix.prototype.equals = function (matrix) {\n    var r = this.shape[0],\n        c = this.shape[1],\n        d1 = this.data,\n        d2 = matrix.data;\n\n    if (r !== matrix.shape[0] || c !== matrix.shape[1] || this.type !== matrix.type)\n      return false;\n\n    var i;\n    for (i = 0; i < r * c; i++)\n      if (d1[i] !== d2[i])\n        return false;\n\n    return true;\n  };\n\n  /**\n   * Gets the value of the element in row `i`, column `j` of current matrix\n   * @param {Number} i\n   * @param {Number} j\n   * @returns {Number} the element at row `i`, column `j` of current matrix\n   **/\n  Matrix.prototype.get = function (i, j) {\n    if (i < 0 || j < 0 || i > this.shape[0] - 1 || j > this.shape[1] - 1)\n      throw new Error('index out of bounds');\n\n    return this.data[i*this.shape[1]+j];\n  };\n\n  /**\n   * Sets the element at row `i`, column `j` to value\n   * @param {Number} i\n   * @param {Number} j\n   * @param {Number} value\n   * @returns {Matrix} `this`\n   **/\n  Matrix.prototype.set = function (i, j, value) {\n    if (i < 0 || j < 0 || i > this.shape[0] - 1 || j > this.shape[1] - 1)\n      throw new Error('index out of bounds');\n\n    this.data[i*this.shape[1]+j] = value;\n    return this;\n  };\n\n  /**\n   * Swaps two rows `i` and `j` in a matrix\n   * @param {Number} i\n   * @param {Number} j\n   * @returns {Matrix} `this`\n   **/\n  Matrix.prototype.swap = function (i, j) {\n    if (i < 0 || j < 0 || i > this.shape[0] - 1 || j > this.shape[0] - 1)\n      throw new Error('index out of bounds');\n\n    var c = this.shape[1];\n\n    // copy first row\n    var copy = this.data.slice(i * c, (i + 1) * c);\n    // move second row into first row spot\n    this.data.copyWithin(i * c, j * c, (j + 1) * c);\n    // copy first row back into second row spot\n    this.data.set(copy, j * c);\n\n    return this;\n  };\n\n  /**\n   * Maps a function `callback` to all elements of a copy of current matrix.\n   * @param {Function} callback\n   * @returns {Matrix} the resultant mapped matrix\n   **/\n  Matrix.prototype.map = function (callback) {\n    var r = this.shape[0],\n        c = this.shape[1],\n        data = new this.type(this.data),\n        i;\n\n    for (i = 0; i < r * c; i++)\n      data[i] = callback(data[i], i / c | 0, i % c, data);\n\n    return Matrix.fromTypedArray(data, [r, c]);\n  };\n\n  /**\n   * Functional version of for-looping the elements in a matrix, is\n   * equivalent to `Array.prototype.forEach`.\n   * @param {Function} callback\n   * @returns {Matrix} `this`\n   **/\n  Matrix.prototype.each = function (callback) {\n    var r = this.shape[0],\n        c = this.shape[1],\n        i;\n\n    for (i = 0; i < r * c; i++)\n      callback(this.data[i], i / c | 0, i % c, this.data);\n\n    return this;\n  };\n\n  /**\n   * Converts current matrix into a readable formatted string\n   * @returns {String} a string of the matrix' contents\n   **/\n  Matrix.prototype.toString = function () {\n    var result = [],\n        r = this.shape[0],\n        c = this.shape[1],\n        i;\n\n    for (i = 0; i < r; i++)\n      // get string version of current row and store it\n      result.push('[' + this.data.subarray(i * c, (i + 1) * c ).toString() + ']');\n\n    return '[' + result.join(', \\n') + ']';\n  };\n\n  /**\n   * Converts current matrix into a two-dimensional array\n   * @returns {Array} an array of the matrix' contents\n   **/\n  Matrix.prototype.toArray = function () {\n    var result = [],\n        r = this.shape[0],\n        c = this.shape[1],\n        i;\n\n    for (i = 0; i < r; i++)\n      // copy current row into a native array and store it\n      result.push(Array.prototype.slice.call(this.data.subarray(i * c, (i + 1) * c)));\n\n    return result;\n  };\n\n  /**\n   * Converts current matrix into a two-dimensional Vector\n   * @returns {Array} a Vector of the matrix' contents\n   **/\n  Matrix.prototype.toVector = function () {\n    var r = this.shape[0],\n        c = this.shape[1];\n\n    if (r !== 1 && c !== 1)\n      throw new Error('invalid matrix shape');\n\n    return new Vector(this.data);\n  };\n\n  module.exports = Matrix;\n}());\n\n},{\"./vector\":2}],2:[function(require,module,exports){\n(function () {\n  'use strict';\n\n  /**\n   * @method constructor\n   * @desc Creates a two-dimensional `Vector` from the supplied arguments.\n   **/\n  function Vector (data) {\n    this.type = Float64Array;\n    this.length = 0;\n\n    if (data instanceof Vector) {\n      this.combine(data);\n    } else if (data instanceof Array) {\n      this.data = new this.type(data);\n      this.length = data.length;\n    } else if (data && data.buffer && data.buffer instanceof ArrayBuffer) {\n      this.data = data;\n      this.length = data.length;\n      this.type = data.constructor;\n    }\n  }\n\n  /**\n   * Static method. Adds two vectors `a` and `b` together.\n   * @param {Vector} a\n   * @param {Vector} b\n   * @returns {Vector} a vector containing the sum of `a` and `b`\n   **/\n  Vector.add = function (a, b) {\n    return new Vector(a).add(b);\n  };\n\n  /**\n   * Adds `vector` to the current vector.\n   * @param {Vector} vector\n   * @returns {Vector} this\n   **/\n  Vector.prototype.add = function (vector) {\n    var l1 = this.length,\n        l2 = vector.length;\n    if (l1 !== l2)\n      throw new Error('sizes do not match!');\n    if (!l1 && !l2)\n      return this;\n\n    var i;\n    for (i = 0; i < l1; i++)\n      this.data[i] += vector.data[i];\n\n    return this;\n  };\n\n  /**\n   * Static method. Subtracts the vector `b` from vector `a`.\n   * @param {Vector} a\n   * @param {Vector} b\n   * @returns {Vector} a vector containing the difference between `a` and `b`\n   **/\n  Vector.subtract = function (a, b) {\n    return new Vector(a).subtract(b);\n  };\n\n  /**\n   * Subtracts `vector` from the current vector.\n   * @param {Vector} vector\n   * @returns {Vector} this\n   **/\n  Vector.prototype.subtract = function (vector) {\n    var l1 = this.length,\n        l2 = vector.length;\n    if (l1 !== l2)\n      throw new Error('sizes do not match');\n\n    if (!l1 && !l2)\n      return this;\n\n    var i;\n    for (i = 0; i < l1; i++)\n      this.data[i] -= vector.data[i];\n\n    return this;\n  };\n\n  /**\n   * Static method. Multiplies all elements of `vector` with a specified `scalar`.\n   * @param {Vector} vector\n   * @param {Number} scalar\n   * @returns {Vector} a resultant scaled vector\n   **/\n  Vector.scale = function (vector, scalar) {\n    return new Vector(vector).scale(scalar);\n  };\n\n  /**\n   * Multiplies all elements of current vector with a specified `scalar`.\n   * @param {Number} scalar\n   * @returns {Vector} this\n   **/\n  Vector.prototype.scale = function (scalar) {\n    var i;\n    for (i = this.length - 1; i >= 0; i--)\n      this.data[i] *= scalar;\n\n    return this;\n  };\n\n  /**\n   * Static method. Normalizes `vector`, i.e. divides all elements with the magnitude.\n   * @param {Vector} vector\n   * @returns {Vector} a resultant normalized vector\n   **/\n  Vector.normalize = function (vector) {\n    return new Vector(vector).normalize();\n  };\n\n  /**\n   * Normalizes current vector.\n   * @returns {Vector} a resultant normalized vector\n   **/\n  Vector.prototype.normalize = function () {\n    return this.scale(1 / this.magnitude());\n  };\n\n  /**\n   * Static method. Projects the vector `a` onto the vector `b` using\n   * the projection formula `(b * (a * b / b * b))`.\n   * @param {Vector} a\n   * @param {Vector} b\n   * @returns {Vector} a new resultant projected vector\n   **/\n  Vector.project = function (a, b) {\n    return a.project(new Vector(b));\n  };\n\n  /**\n   * Projects the current vector onto `vector` using\n   * the projection formula `(b * (a * b / b * b))`.\n   * @param {Vector} vector\n   * @returns {Vector} `vector`\n   **/\n  Vector.prototype.project = function (vector) {\n    return vector.scale(this.dot(vector) / vector.dot(vector));\n  };\n\n  /**\n   * Static method. Creates a vector containing zeros (`0`) of `count` size, takes\n   * an optional `type` argument which should be an instance of `TypedArray`.\n   * @param {Number} count\n   * @param {TypedArray} type\n   * @returns {Vector} a new vector of the specified size and `type`\n   **/\n  Vector.zeros = function (count, type) {\n    if (count < 0)\n      throw new Error('invalid size');\n    else if (count === 0)\n      return new Vector();\n\n    type = type || Float64Array;\n    var data = new type(count),\n        i;\n\n    for (i = 0; i < count; i++)\n      data[i] = +0.0;\n\n    return new Vector(data);\n  };\n\n  /**\n   * Static method. Creates a vector containing ones (`1`) of `count` size, takes\n   * an optional `type` argument which should be an instance of `TypedArray`.\n   * @param {Number} count\n   * @param {TypedArray} type\n   * @returns {Vector} a new vector of the specified size and `type`\n   **/\n  Vector.ones = function (count, type) {\n    if (count < 0)\n      throw new Error('invalid size');\n    else if (count === 0)\n      return new Vector();\n\n    type = type || Float64Array;\n    var data = new type(count),\n        i;\n\n    for (i = 0; i < count; i++)\n      data[i] = 1;\n\n    return new Vector(data);\n  };\n\n  /**\n   * Static method. Creates a vector containing a range (can be either ascending or descending)\n   * of numbers specified by the arguments provided (e.g. `Vector.range(0, .5, 2)`\n   * gives a vector containing all numbers in the interval `[0, 2)` separated by\n   * steps of `0.5`), takes an optional `type` argument which should be an instance of\n   * `TypedArray`.\n   * @param {Number} start\n   * @param {Number} step - optional\n   * @param {Number} end\n   * @returns {Vector} a new vector containing the specified range of the specified `type`\n   **/\n  Vector.range = function () {\n    var args = [].slice.call(arguments, 0),\n        backwards = false,\n        start, step, end;\n\n    var type = Float64Array;\n    if (typeof args[args.length - 1] === 'function')\n      type = args.pop();\n\n    switch(args.length) {\n      case 2:\n        end = args.pop();\n        step = 1;\n        start = args.pop();\n        break;\n      case 3:\n        end = args.pop();\n        step = args.pop();\n        start = args.pop();\n        break;\n      default:\n        throw new Error('invalid range');\n    }\n\n    if (end - start < 0) {\n      var copy = end;\n      end = start;\n      start = copy;\n      backwards = true;\n    }\n\n    if (step > end - start)\n      throw new Error('invalid range');\n\n    var data = new type(Math.ceil((end - start) / step)),\n        i, j;\n    for (i = start, j = 0; i < end; i += step, j++)\n      data[j] = backwards ? end - i + start : i;\n\n    return new Vector(data);\n  };\n\n  /**\n   * Static method. Creates a vector of `count` elements containing random\n   * values between `0` and `1`, takes an optional `type` argument which\n   * should be an instance of `TypedArray`.\n   * @param {Number} count\n   * @param {TypedArray} type\n   * @returns {Vector} a new vector of the specified size and `type`\n   **/\n  Vector.random = function (count, type) {\n    type = type || Float64Array;\n    var data = new type(count),\n        i;\n\n    for (i = 0; i < count; i++)\n      data[i] = Math.random();\n\n    return new Vector(data);\n  };\n\n  /**\n   * Static method. Performs dot multiplication with two vectors `a` and `b`.\n   * @param {Vector} a\n   * @param {Vector} b\n   * @returns {Number} the dot product of the two vectors\n   **/\n  Vector.dot = function (a, b) {\n    return a.dot(b);\n  };\n\n  /**\n   * Performs dot multiplication with current vector and `vector`\n   * @param {Vector} vector\n   * @returns {Number} the dot product of the two vectors\n   **/\n  Vector.prototype.dot = function (vector) {\n    if (this.length !== vector.length)\n      throw new Error('sizes do not match');\n\n    var a = this.data,\n        b = vector.data,\n        result = 0,\n        i, l;\n\n    for (i = 0, l = this.length; i < l; i++)\n      result += a[i] * b[i];\n\n    return result;\n  };\n\n  /**\n   * Calculates the magnitude of a vector (also called L2 norm or Euclidean length).\n   * @returns {Number} the magnitude (L2 norm) of the vector\n   **/\n  Vector.prototype.magnitude = function () {\n    if (!this.length)\n      return 0;\n\n    var result = 0,\n        data = this.data,\n        i, l;\n    for (i = 0, l = this.length; i < l; i++)\n      result += data[i] * data[i];\n\n    return Math.sqrt(result);\n  };\n\n  /**\n   * Static method. Determines the angle between two vectors `a` and `b`.\n   * @param {Vector} a\n   * @param {Vector} b\n   * @returns {Number} the angle between the two vectors in radians\n   **/\n  Vector.angle = function (a, b) {\n    return a.angle(b);\n  };\n\n  /**\n   * Determines the angle between the current vector and `vector`.\n   * @param {Vector} vector\n   * @returns {Number} the angle between the two vectors in radians\n   **/\n  Vector.prototype.angle = function (vector) {\n    return Math.acos(this.dot(vector) / this.magnitude() * vector.magnitude());\n  };\n\n  /**\n   * Static method. Checks the equality of two vectors `a` and `b`.\n   * @param {Vector} a\n   * @param {Vector} b\n   * @returns {Boolean} `true` if the two vectors are equal, `false` otherwise\n   **/\n  Vector.equals = function (a, b) {\n    return a.equals(b);\n  };\n\n  /**\n   * Checks the equality of the current vector and `vector`.\n   * @param {Vector} vector\n   * @returns {Boolean} `true` if the two vectors are equal, `false` otherwise\n   **/\n  Vector.prototype.equals = function (vector) {\n    if (this.length !== vector.length)\n      return false;\n\n    var a = this.data,\n        b = vector.data,\n        length = this.length,\n        i = 0;\n\n    while (i < length && a[i] === b[i])\n      i++;\n    return i === length;\n  };\n\n  /**\n   * Gets the element at `index` from current vector.\n   * @param {Number} index\n   * @returns {Number} the element at `index`\n   **/\n  Vector.prototype.get = function (index) {\n    if (index < 0 || index > this.length - 1)\n      throw new Error('index out of bounds');\n\n    return this.data[index];\n  };\n\n  /**\n   * Gets the minimum value (smallest) element of current vector.\n   * @returns {Number} the smallest element of the current vector\n   **/\n  Vector.prototype.min = function () {\n    var min = Number.POSITIVE_INFINITY,\n        data = this.data,\n        value,\n        i, l;\n\n    for (i = 0, l = data.length; i < l; i++) {\n      value = data[i];\n      if (value < min)\n        min = value;\n    }\n\n    return min;\n  };\n\n  /**\n   * Gets the maximum value (largest) element of current vector.\n   * @returns {Number} the largest element of current vector\n   **/\n  Vector.prototype.max = function () {\n    var max = Number.NEGATIVE_INFINITY,\n        data = this.data,\n        value,\n        i, l;\n\n    for (i = 0, l = this.length; i < l; i++) {\n      value = data[i];\n      if (value > max)\n        max = value;\n    }\n\n    return max;\n  };\n\n  /**\n   * Sets the element at `index` to `value`.\n   * @param {Number} index\n   * @param {Number} value\n   * @returns {Vector} this\n   **/\n  Vector.prototype.set = function (index, value) {\n    if (index < 0 || index > this.length - 1)\n      throw new Error('index out of bounds');\n\n    this.data[index] = value;\n    return this;\n  };\n\n  /**\n   * Static method. Combines two vectors `a` and `b` (appends `b` to `a`).\n   * @param {Vector} a\n   * @param {Vector} b\n   * @returns {Vector} `b` appended to vector `a`\n   **/\n  Vector.combine = function (a, b) {\n    return new Vector(a).combine(b);\n  };\n\n  /**\n   * Combines the current vector with `vector`\n   * @param {Vector} vector\n   * @returns {Vector} `vector` combined with current vector\n   **/\n  Vector.prototype.combine = function (vector) {\n    if (!vector.length)\n      return this;\n    if (!this.length) {\n      this.data = new vector.type(vector.data);\n      this.length = vector.length;\n      this.type = vector.type;\n      return this;\n    }\n\n    var l1 = this.length,\n        l2 = vector.length,\n        d1 = this.data,\n        d2 = vector.data;\n\n    var data = new this.type(l1 + l2);\n    data.set(d1);\n    data.set(d2, l1);\n\n    this.data = data;\n    this.length = l1 + l2;\n\n    return this;\n  };\n\n  /**\n   * Pushes a new `value` into current vector.\n   * @param {Number} value\n   * @returns {Vector} `this`\n   **/\n  Vector.prototype.push = function (value) {\n    return this.combine(new Vector([value]));\n  };\n\n  /**\n   * Maps a function `callback` to all elements of current vector.\n   * @param {Function} callback\n   * @returns {Vector} `this`\n   **/\n  Vector.prototype.map = function (callback) {\n    var data = new this.type(this.length),\n        i;\n    for (i = 0; i < this.length; i++)\n      data[i] = callback(this.data[i], i);\n\n    return new Vector(data);\n  };\n\n  /**\n   * Functional version of for-looping the vector, is equivalent\n   * to `Array.prototype.forEach`.\n   * @param {Function} callback\n   * @returns {Vector} `this`\n   **/\n  Vector.prototype.each = function (callback) {\n    var i;\n    for (i = 0; i < this.length; i++)\n      callback(this.data[i], i);\n\n    return this;\n  };\n\n  /**\n   * Converts current vector into a readable formatted string.\n   * @returns {String} a string of the vector's contents\n   **/\n  Vector.prototype.toString = function () {\n    var result = '',\n        i;\n    for (i = 0; i < this.length; i++)\n      result += i > 0 ? ', ' + this.data[i] : this.data[i];\n\n    return '[' + result + ']';\n  };\n\n  /**\n   * Converts current vector into a JavaScript array.\n   * @returns {Array} an array containing all elements of current vector\n   **/\n  Vector.prototype.toArray = function () {\n    if (!this.data)\n      return [];\n\n    return Array.prototype.slice.call(this.data);\n  };\n\n  module.exports = Vector;\n}());\n\n},{}]},{},[1])(1)\n});"],"sourceRoot":"/source/"}